<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="custom.css">
    <link rel="stylesheet" href="syntax.css">
    <base target="_blank">
  </html>
  <body>
      <h1 id="c-functions">C: functions</h1>
<p><em>COSC 208, Introduction to Computer Systems, 2021-09-03</em></p>

<h2 id="announcements">Announcements</h2>
<ul>
  <li>Complete readings and pre-class questions before each class period</li>
  <li>Lab 1 due Friday, 11 p.m.</li>
</ul>

<h2 id="outline">Outline</h2>
<ul>
  <li>Warm-up</li>
  <li>Defining functions</li>
  <li>Program stack</li>
</ul>

<h2 id="warm-up">Warm-up</h2>

<p>This warm-up focuses on the biological process of <a href="https://en.wikipedia.org/wiki/Cell_division">cell division</a>: each cell splitting into two each round.</p>

<ul>
  <li>Q1: <em>Write a function called <code class="language-plaintext highlighter-rouge">cells</code> that takes the number of rounds of cell division that occur and computes the total number of cells that will exist after the specified number of rounds (assuming you started with a single cell).</em></li>
</ul>

<pre><code class="language-C">





</code></pre>

<ul>
  <li>Q2: <em>Write a function called <code class="language-plaintext highlighter-rouge">rounds</code> that takes the number of cells that should exist and computes the number of rounds of cell division that must occur to have ta least that many cells (assuming you started with a single cell).</em></li>
</ul>

<pre><code class="language-C">






</code></pre>

<div style="page-break-after: always;"></div>

<h2 id="program-stack">Program stack</h2>
<pre><code class="language-C">#include &lt;stdio.h&gt;
int multiply(int z) {
    return z * 5 / 9;     // stack at A
}
int subtract(int x, int y) {
    return x - y;
}
int convert(int t) {
    int u = subtract(t, 32);
    int v = multiply(u);
    return v;             // stack at B
}
int main() {
    int f = 68;
    int c = convert(68);
    printf("%dF is %dC\n", f, c); 
}
</code></pre>

<ul>
  <li>Example: Completing the drawings of stack frames at comment A on the left and at comment B on the right.</li>
</ul>

<!--![Stack Frame](diagrams/sf_c_to_F_start.jpg)-->

<p><img src="diagrams/sf_c_to_F_start.jpg" width="80%" /> &lt;/img&gt;</p>

<div style="page-break-after: always;"></div>

<ul>
  <li>Q3: <em>Draw the contents of the stack immediately before the program prints “1 x 2”</em></li>
</ul>

<pre><code class="language-C">int squared(int base) {
    return base * base;
}

int dbl(int num) {
    printf("%d x 2\n", num);
    return num * 2;
}

int two(int exponent) {
    int result = 1;
    for (int i = 0; i &lt; exponent; i++) {
        result = dbl(result);
    }
    return result;
}

int main() {
    int n = 3;
    int s = squared(3);
    printf("%d^2 is %d\n", n, s);
    int t = two(3);
    printf("2^%d is %d\n", n, t);
}
</code></pre>
<ul>
  <li>Q4: <em>What is the output of this program?</em></li>
</ul>

<pre><code class="language-C">int copy(int a, int b) {
    a = b;
    return b;
}
int main() {
    int x = 3;
    int y = 7;
    int z = copy(x, y);
    printf("%d %d %d\n", x, y, z);
}
</code></pre>

<div style="page-break-after: always;"></div>

<p>Q5: <em>Draw the contents of the stack immediately before the program prints “n=2”</em></p>

<pre><code class="language-C">int recurse(int n) {
    printf("n=%d\n", n);
    if (n == 1) {
        return 0;
    }
    else {
        return 1 + recurse(n/2);
    }
}
int main() {
    int x = 16;
    int r = recurse(x);
    printf("result=%d\n", r);
}
</code></pre>

<p>Q6: <em>If <code class="language-plaintext highlighter-rouge">main</code> initialized <code class="language-plaintext highlighter-rouge">x</code> to <code class="language-plaintext highlighter-rouge">64</code> (instead of <code class="language-plaintext highlighter-rouge">16</code>), how many stack frames would exist immediately before the program printed “n=2”?</em></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
</code></pre></div></div>

<h2 id="extra-practice">Extra practice</h2>
<p>Q7: <em>Write a function called <code class="language-plaintext highlighter-rouge">print_x</code> that takes an integer n that prints the letter <code class="language-plaintext highlighter-rouge">X</code> n lines high and n characters wide. You can assume n is an odd number. For example, if n = 9, the program’s output would be:</em></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>\       /
 \     /
  \   /
   \ /
    X
   / \
  /   \
 /     \
/       \
</code></pre></div></div>
<p><em>Worksheet created by Professor Aaron Gember-Jacobson</em></p>

  </body>
</html>