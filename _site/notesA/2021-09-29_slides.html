<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="custom.css">
    <link rel="stylesheet" href="syntax.css">
    <base target="_blank">
  </html>
  <body>
      <h2 id="warm-up">Warm-up</h2>
<p><em>Assume you wanted to write a function that creates a copy of a string. What is wrong with each of the following attempts at writing such a function?</em></p>
<pre><code class="language-C">char *copy1(char strA[]) {
    char strB[strlen(strA) + 1];
    strcpy(strB, strA);
    return strB;
}
</code></pre>

<pre><code class="language-C">char copy2(char strA[]) {
    char *strB = malloc(sizeof(char) * (strlen(strA) + 1));
    strcpy(strB, strA);
    return *strB;
}
</code></pre>

<pre><code class="language-C">char *copy3(char strA[]) {
    char *strB = malloc(sizeof(char *));
    strcpy(strB, strA);
    return strB;
}
</code></pre>

<div style="page-break-after: always;"></div>

<h2 id="free">free</h2>
<p><em>What memory deallocation mistake has been made in each of the following code snippets?</em></p>
<pre><code class="language-C">int *ptrA = malloc(sizeof(int) * 3);
int *ptrB = ptrA;
free(ptrA);
free(ptrB);
</code></pre>

<pre><code class="language-C">int *ptr = malloc(sizeof(int) * 3);
ptr[0] = 1;
free(ptr);
ptr[1] = 2;
</code></pre>
<pre><code class="language-C">int *ptr = malloc(sizeof(int) * 3);
ptr++;
free(ptr);
</code></pre>

<pre><code class="language-C">int *ptrA = malloc(sizeof(int) * 3);
int *ptrB = ptrA;
ptrA[0] = 0;
ptrB[1] = 1;
free(ptrA);
ptrB[2] = 2;
</code></pre>

<div style="page-break-after: always;"></div>

<h2 id="pointers-to-structs">Pointers to structs</h2>
<pre><code class="language-C">struct account {
    int number; // Account number
    int balance; // Current account balance
};
int deposit(struct account *acct, int amount);
int transfer(struct account *from, struct amount *to, int amount);
</code></pre>

  </body>
</html>