# Program memory: pointer arithmetic; malloc
_COSC 208, Introduction to Computer Systems, 2023-02-22_

## Announcements
* Programming project 2 due Thursday, March 2 @ 11pm

## Outline
* Warm-up
* Pointer arithmetic

## Warm-up

## Pointer arithmetic

* Example


```c
#include <stdio.h>
int main() {
    int nums[] = {2,4,8,16,32,64,128};
    
    int *ptr = nums + 2;
    printf("%d %d\n", *ptr, *nums);
    ptr = ptr + 2;
    printf("%d %d\n", *ptr, *nums);
    // nums = nums + 2; // Not allowed; array variable must always point to 0th element
    
    int val = *(nums + 2);
    printf("%d %d\n", val, *nums);
    val = *(ptr + 2);
    printf("%d %d\n", val, *ptr);
    
    nums[2] = 0;
    printf("%d %d\n", *nums, nums[2]);
    *(nums + 2) = -1;
    printf("%d %d\n", *nums, nums[2]);
}
```

<div style="page-break-after:always;"></div>

* Q7: _What does the following program output?_


```c
#include <stdio.h>
int main() {
    char phrase[] = "the cat sits";
    char *mysteryA = phrase + 4;
    char *mysteryB = mysteryA + 4;
    printf("%c%c\n", *mysteryA, *mysteryB);
    *(mysteryA + 2) = 'p';
    *mysteryB = 'f';
    printf("%s\n", phrase);
    mysteryA--;
    mysteryB += 2;
    *mysteryB = 'n';
    printf("red%s\n", mysteryA);
}
```

<p style="height:6em;"></p>

* Q8: _Write a function called `sum` which takes an array of integers and a length and returns the sum of the numbers. The function **must** use a pointer to iterate over the array._

<p style="height:15em;"></p>
