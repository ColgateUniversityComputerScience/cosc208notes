# Returning values from threads
```C
1   #include <stdio.h>
2   #include <stdlib.h>
3   #include <string.h>
4   #include <pthread.h>
5   void *length(void *arg) {
6       char *str = (char *)arg;
7       int *len = malloc(sizeof(int));
8       *len = strlen(str);
9       return len;
10  }
11  int main() {
12      pthread_t thread;
13      char *phrase = "Hello, threads!";
14      pthread_create(&thread, NULL, &length, phrase);
15      int *result = NULL;
16      pthread_join(thread, (void *)&result);
17      printf("Length: %d\n", *result);
18      free(result);
19  }
```

<div style="page-break-after:always;"></div>

# Practice writing multi-threaded programs
Q1: _Write a function called `sum_array` which takes an array of `ARRAY_LEN` integers and returns the sum of the integers. Your function should have the appropriate prototype/implementation to serve as the entry point for a thread. Assume `ARRAY_LEN` is a constant which has been `#define`d._
```

```

Q2: _Write a function called `sum_matrix` which takes an array of `NUM_ARRAYS` arrays of integers (i.e., an `int **`) and returns the sum of all the integers. The function should create `NUM_ARRAYS` threads, each running the `sum_array` function for a single array of integers. Assume `NUM_ARRAYS` is a constant which has been `#define`d._

<div style="page-break-after:always;"></div>

# Extra practice (Q5)
```C
1   #include <pthread.h>
2   void *printer(void *arg) {
3       char *ch = (char*)arg;
4       printf("I am %c\n", *ch);
5       return NULL;
6   }
7   int main() {
8       pthread_t thread1, thread2;
9       char *ch = malloc(sizeof(char));
10      *ch = 'A';
11      pthread_create(&thread1, NULL, &printer, ch);
12      *ch = 'B';
13      pthread_create(&thread2, NULL, &printer, ch);
14      pthread_join(thread1, NULL);
15      pthread_join(thread2, NULL);
16  }
```